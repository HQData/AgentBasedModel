<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>temporal &mdash; ABMHAP 2017.08 documentation</title>
    
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2017.08',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="ABMHAP 2017.08 documentation" href="../index.html" />
    <link rel="up" title="Module code" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for temporal</h1><div class="highlight"><pre>
<span></span><span class="c1"># The United States Environmental Protection Agency through its Office of</span>
<span class="c1"># Research and Development has developed this software. The code is made</span>
<span class="c1"># publicly available to better communicate the research. All input data</span>
<span class="c1"># used fora given application should be reviewed by the researcher so</span>
<span class="c1"># that the model results are based on appropriate data for any given</span>
<span class="c1"># application. This model is under continued development. The model and</span>
<span class="c1"># data included herein do not represent and should not be construed to</span>
<span class="c1"># represent any Agency determination or policy.</span>
<span class="c1">#</span>
<span class="c1"># This file was written by Dr. Namdi Brandon</span>
<span class="c1"># ORCID: 0000-0001-7050-1538</span>
<span class="c1"># August 14, 2017</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This file contains code that handles the time related aspects of this code.</span>

<span class="sd">This file contains code for class :class:`temporal.Temporal`. This file also \</span>
<span class="sd">includes other functions that are accessed outside of the Temporal class.</span>

<span class="sd">.. moduleauthor:: Dr. Namdi Brandon</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="c1"># ----------------------------------------------------------</span>
<span class="c1"># import</span>
<span class="c1"># ----------------------------------------------------------</span>

<span class="c1"># general math capabilities</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="c1"># --------------------------------------------------------</span>
<span class="c1"># Constants</span>
<span class="c1"># ---------------------------------------------------------</span>

<span class="c1"># days of the week</span>
<span class="n">SUNDAY</span>      <span class="o">=</span> <span class="mi">0</span>
<span class="n">MONDAY</span>      <span class="o">=</span> <span class="mi">1</span>
<span class="n">TUESDAY</span>     <span class="o">=</span> <span class="mi">2</span>
<span class="n">WEDNESDAY</span>   <span class="o">=</span> <span class="mi">3</span>
<span class="n">THURSDAY</span>    <span class="o">=</span> <span class="mi">4</span>
<span class="n">FRIDAY</span>      <span class="o">=</span> <span class="mi">5</span>
<span class="n">SATURDAY</span>    <span class="o">=</span> <span class="mi">6</span>


<span class="c1"># useful conversions</span>
<span class="n">HOUR_2_MIN</span>  <span class="o">=</span> <span class="mi">60</span>
<span class="n">DAY_2_MIN</span>   <span class="o">=</span> <span class="mi">24</span> <span class="o">*</span> <span class="n">HOUR_2_MIN</span>

<span class="n">WEEK_2_DAY</span>  <span class="o">=</span> <span class="mi">7</span>
<span class="n">WEEK_2_MIN</span>  <span class="o">=</span> <span class="n">WEEK_2_DAY</span> <span class="o">*</span> <span class="n">DAY_2_MIN</span>

<span class="n">YEAR_2_WEEK</span> <span class="o">=</span> <span class="mi">52</span>
<span class="n">YEAR_2_DAY</span>  <span class="o">=</span> <span class="n">YEAR_2_WEEK</span> <span class="o">*</span> <span class="n">WEEK_2_DAY</span>
<span class="n">YEAR_2_MIN</span>      <span class="o">=</span> <span class="n">YEAR_2_DAY</span> <span class="o">*</span> <span class="n">DAY_2_MIN</span>

<span class="n">SEASON_2_WEEK</span>   <span class="o">=</span> <span class="n">YEAR_2_WEEK</span> <span class="o">//</span> <span class="mi">4</span>
<span class="n">SEASON_2_DAY</span>    <span class="o">=</span> <span class="n">SEASON_2_WEEK</span> <span class="o">*</span> <span class="n">WEEK_2_DAY</span>
<span class="n">SEASON_2_MIN</span>    <span class="o">=</span> <span class="n">SEASON_2_DAY</span> <span class="o">*</span> <span class="n">DAY_2_MIN</span>

<span class="c1"># the seasons</span>
<span class="n">WINTER</span>  <span class="o">=</span> <span class="mi">0</span>
<span class="n">SPRING</span>  <span class="o">=</span> <span class="mi">1</span>
<span class="n">SUMMER</span>  <span class="o">=</span> <span class="mi">2</span>
<span class="n">FALL</span>    <span class="o">=</span> <span class="mi">3</span>
 
<span class="c1"># the times for dawn (day) and dusk (night)</span>
<span class="n">DAWN</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="n">HOUR_2_MIN</span>
<span class="n">DUSK</span> <span class="o">=</span> <span class="mi">18</span> <span class="o">*</span> <span class="n">HOUR_2_MIN</span>

<span class="c1"># This dictionary takes the INTEGER representation of the day and</span>
<span class="c1"># returns the STRING representation</span>
<span class="n">DAY_2_STR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">SUNDAY</span><span class="p">:</span> <span class="s1">&#39;Sunday&#39;</span><span class="p">,</span>
    <span class="n">MONDAY</span><span class="p">:</span> <span class="s1">&#39;Monday&#39;</span><span class="p">,</span>
    <span class="n">TUESDAY</span><span class="p">:</span> <span class="s1">&#39;Tuesday&#39;</span><span class="p">,</span>
    <span class="n">WEDNESDAY</span><span class="p">:</span> <span class="s1">&#39;Wednesday&#39;</span><span class="p">,</span>
    <span class="n">THURSDAY</span><span class="p">:</span> <span class="s1">&#39;Thursday&#39;</span><span class="p">,</span>
    <span class="n">FRIDAY</span><span class="p">:</span> <span class="s1">&#39;Friday&#39;</span><span class="p">,</span>
    <span class="n">SATURDAY</span><span class="p">:</span> <span class="s1">&#39;Saturday&#39;</span><span class="p">,</span>
    <span class="p">}</span>

<span class="c1"># ===============================================</span>
<span class="c1"># class</span>
<span class="c1"># ===============================================</span>

<div class="viewcode-block" id="Temporal"><a class="viewcode-back" href="../temporal.html#temporal.Temporal">[docs]</a><span class="k">class</span> <span class="nc">Temporal</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This class handles all the time keeping responsibilities.</span>

<span class="sd">    Universal time is the total amount of time in minutes elapsed from the start of the</span>
<span class="sd">    calendar year.</span>

<span class="sd">    Day 0 at 0:00 corresponds to a universal time of 0</span>

<span class="sd">    Day 1 at 0:00 corresponds to a universal time of 1 * 24 * 60</span>

<span class="sd">    Day 359 at 0:00 corresponds to a universal time of 359 * 24 * 60</span>

<span class="sd">    :param int t_univ: the time in universal time [minutes]</span>

<span class="sd">    :var int day: the day number in the simulation</span>
<span class="sd">    :var int day_of_week: a number 0, 1, 2, ... 6 corresponding to days of the week where 0 is Sunday, 1 is \</span>
<span class="sd">    Monday,  ... 6 is Saturday</span>
<span class="sd">    :var int dt: the step size in the simulation [minutes] (**antiquated**)</span>
<span class="sd">    :var int hour_of_day: the hour of the day [0, 23]</span>
<span class="sd">    :var bool is_weekday: a flag indicating if it&#39;s a weekday (Monday-Friday) if True. False, otherwise.</span>
<span class="sd">    :var bool is_night: a flag indicating if the time of day is after DUSK and before DAWN if True. \</span>
<span class="sd">    False, otherwise.</span>
<span class="sd">    :var int min_of_day: the minute of the day [0, 60 - 1]</span>

<span class="sd">    :var int t_univ: the universal time [minutes]</span>
<span class="sd">    :var int time_of_day: the time of the day [minutes], [0, 1, ... 24 * 60 -1]</span>
<span class="sd">    :var int season: the season</span>
<span class="sd">    :var int tic: indicates that current tick (each tick corresponds to a step of size dt)</span>
<span class="sd">    :var int step: indicates the current step in the simulation [0, ... num_steps-1]</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1">#</span>
    <span class="c1"># constructor</span>
    <span class="c1">#</span>

    <span class="c1"># set the start time to Day 0 at midnight</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t_univ</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span>         <span class="o">=</span> <span class="n">t_univ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>             <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">day</span>            <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">day_of_week</span>    <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hour_of_day</span>    <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_of_day</span>     <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span>    <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_weekday</span>     <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_night</span>       <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">season</span>         <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">week_of_year</span>   <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tic</span>            <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_step</span>   <span class="o">=</span> <span class="bp">True</span>

        <span class="c1"># the counter for time steps (jumping)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span>           <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># the history of the universal time [minutes]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hist_time</span>      <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span> <span class="n">YEAR_2_MIN</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>

        <span class="k">return</span>


<div class="viewcode-block" id="Temporal.print_day_night"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.print_day_night">[docs]</a>    <span class="k">def</span> <span class="nf">print_day_night</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Represents whether it&#39;s day or night as a string</span>

<span class="sd">        :return msg: daytime / nighttime status (or an error message, if there is an error)</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_day</span><span class="p">):</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;Day time&#39;</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;Night time&#39;</span>

        <span class="k">return</span> <span class="n">msg</span>
</div>
<div class="viewcode-block" id="Temporal.print_day_of_week"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.print_day_of_week">[docs]</a>    <span class="k">def</span> <span class="nf">print_day_of_week</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Represents the day of the week as a string</span>

<span class="sd">        :return msg: the day of the week (or an error message, if there is an error)</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># an error message</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;ERROR! Invlid choice for Temporal.dayOfWeek!&#39;</span>

        <span class="k">return</span> <span class="n">DAY_2_STR</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_of_week</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Temporal.print_season"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.print_season">[docs]</a>    <span class="k">def</span> <span class="nf">print_season</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Represents the seasons as a string</span>

<span class="sd">        :return: the season (or an error message, if there is an error)</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">switcher</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">WINTER</span><span class="p">:</span> <span class="s1">&#39;Winter&#39;</span><span class="p">,</span>
            <span class="n">SPRING</span><span class="p">:</span> <span class="s1">&#39;Spring&#39;</span><span class="p">,</span>
            <span class="n">SUMMER</span><span class="p">:</span> <span class="s1">&#39;Summer&#39;</span><span class="p">,</span>
            <span class="n">FALL</span><span class="p">:</span> <span class="s1">&#39;Fall&#39;</span><span class="p">,</span>
        <span class="p">}</span>

        <span class="c1"># error message</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;ERROR! </span><span class="si">%d</span><span class="s1"> is an invalid choice for Temporal.season!</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">season</span>

        <span class="k">return</span> <span class="n">switcher</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">season</span><span class="p">,</span> <span class="n">msg</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Temporal.print_time_of_day_to_military"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.print_time_of_day_to_military">[docs]</a>    <span class="k">def</span> <span class="nf">print_time_of_day_to_military</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Represents the time of day as military time.</span>

<span class="sd">        :return: the time of day in military time</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">print_military_time</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">msg</span>

    <span class="c1">#------------------------------------------------------</span>
    <span class="c1"># methods</span>
    <span class="c1">#-------------------------------------------------------</span>
</div>
<div class="viewcode-block" id="Temporal.reset"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.reset">[docs]</a>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t_univ</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Reset the temporal object to the initial state.</span>

<span class="sd">        :param int t_univ: The time [seconds, universal time] that the time should be reset to</span>
<span class="sd">        :return:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span>         <span class="o">=</span> <span class="n">t_univ</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">step</span>           <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">initial_step</span>   <span class="o">=</span> <span class="bp">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hist_time</span><span class="p">[:]</span>   <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Temporal.set_day_of_week"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.set_day_of_week">[docs]</a>    <span class="k">def</span> <span class="nf">set_day_of_week</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function sets the day of the week.</span>

<span class="sd">        In addition, this function sets the day count, the day of the week, and a flag indicating whether it \</span>
<span class="sd">        is a weekday or not.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># the current universe time</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span>

        <span class="c1"># the number of hours that have overlapped in the year, integer division</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">t</span> <span class="o">//</span> <span class="mi">60</span>

        <span class="c1"># the number of days that have overlapped in the year, integer division</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">=</span> <span class="n">h</span> <span class="o">//</span> <span class="mi">24</span>

        <span class="c1"># set the week of the year, integer division</span>
        <span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">//</span> <span class="mi">7</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">week_of_year</span> <span class="o">=</span> <span class="n">w</span> <span class="o">%</span>  <span class="n">YEAR_2_WEEK</span>
 
        <span class="c1"># set the day of the week</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">day_of_week</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span> <span class="o">%</span> <span class="mi">7</span>

        <span class="c1"># set flag to see if it&#39;s a week day</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_of_week</span> <span class="o">==</span> <span class="n">SATURDAY</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_of_week</span> <span class="o">==</span> <span class="n">SUNDAY</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_weekday</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_weekday</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Temporal.set_time"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.set_time">[docs]</a>    <span class="k">def</span> <span class="nf">set_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function sets all the time variable due to the universal time.</span>

<span class="sd">        This function sets</span>

<span class="sd">        #. the time of day</span>
<span class="sd">        #. the day of the week</span>
<span class="sd">        #. the season</span>
<span class="sd">        #. the tic.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_time_of_day</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_day_of_week</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_season</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tic</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Temporal.set_time_of_day"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.set_time_of_day">[docs]</a>    <span class="k">def</span> <span class="nf">set_time_of_day</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given the universal time, this function sets the time of day in minutes.</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># the current universe time</span>
        <span class="n">t</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span>

        <span class="c1"># the number of hours that have overlapped in the year, integer division</span>
        <span class="n">h</span> <span class="o">=</span> <span class="n">t</span> <span class="o">//</span> <span class="n">HOUR_2_MIN</span>

        <span class="c1"># the number of minutes within the hour (h)</span>
        <span class="n">m</span> <span class="o">=</span> <span class="n">t</span> <span class="o">%</span> <span class="mi">60</span>

        <span class="c1"># the minute count within the hour</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_of_day</span> <span class="o">=</span> <span class="n">m</span>

        <span class="c1"># set the hour of day</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hour_of_day</span> <span class="o">=</span> <span class="n">h</span> <span class="o">%</span> <span class="mi">24</span>

        <span class="c1"># set the time of day</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hour_of_day</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span> <span class="o">+</span> <span class="n">m</span>

        <span class="c1"># set whether it is day or night</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span> <span class="o">&gt;=</span> <span class="n">DAWN</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span> <span class="o">&lt;</span> <span class="n">DUSK</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_day</span> <span class="o">=</span> <span class="bp">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">is_day</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Temporal.set_season"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.set_season">[docs]</a>    <span class="k">def</span> <span class="nf">set_season</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function sets the season.</span>

<span class="sd">        Day 0 is the beginning of winter</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># this can also be (t // DAY_2_MIN / 7 // SEASON_2_WEEK) % 4</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">season</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">week_of_year</span> <span class="o">//</span> <span class="n">SEASON_2_WEEK</span>

        <span class="k">return</span>
</div>
<div class="viewcode-block" id="Temporal.toString"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.toString">[docs]</a>    <span class="k">def</span> <span class="nf">toString</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This function represents the Temporal object as a string.</span>

<span class="sd">        :return msg: the representation of the temporal object</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;t_univ:</span><span class="se">\t</span><span class="si">%d</span><span class="s1">[min]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;dt:</span><span class="se">\t</span><span class="si">%d</span><span class="s1">[min]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;day:</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">day</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;week of year:</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">week_of_year</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;season:</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_season</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n\n</span><span class="s1">&#39;</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;time of the day:</span><span class="se">\t</span><span class="si">%d</span><span class="s1">[min]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;time of day:</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="n">print_military_time</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">time_of_day</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;hour of the day:</span><span class="se">\t</span><span class="si">%d</span><span class="s1">[hour]</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">hour_of_day</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;Sun status:</span><span class="se">\t</span><span class="si">%s</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_day_night</span><span class="p">()</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;day of the week:</span><span class="se">\t</span><span class="s1">&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">print_day_of_week</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;Weekday?: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">is_weekday</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">msg</span> <span class="o">+</span> <span class="s1">&#39;current tic:</span><span class="se">\t</span><span class="si">%d</span><span class="se">\n</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">tic</span>

        <span class="k">return</span> <span class="n">msg</span>
</div>
<div class="viewcode-block" id="Temporal.update_time"><a class="viewcode-back" href="../temporal.html#temporal.Temporal.update_time">[docs]</a>    <span class="k">def</span> <span class="nf">update_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Increments the time by 1 time step.</span>

<span class="sd">        .. warning::</span>
<span class="sd">            This function is outdated!</span>

<span class="sd">        :return: None</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="c1"># update the universe time</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t_univ</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">dt</span>

        <span class="c1"># set all time variables</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_time</span><span class="p">()</span>

        <span class="k">return</span>
</div></div>
<div class="viewcode-block" id="convert_cyclical_to_decimal"><a class="viewcode-back" href="../temporal.html#temporal.convert_cyclical_to_decimal">[docs]</a><span class="k">def</span> <span class="nf">convert_cyclical_to_decimal</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function converts cyclical time to decimal time</span>

<span class="sd">    :param int t: the time of day [minutes]</span>

<span class="sd">    :return out: the time of day in [hours]</span>
<span class="sd">    :rtype: float</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">out</span> <span class="o">=</span> <span class="n">t</span> <span class="o">/</span> <span class="mf">60.0</span>
    
    <span class="k">return</span> <span class="n">out</span>
</div>
<div class="viewcode-block" id="convert_cylical_to_universal"><a class="viewcode-back" href="../temporal.html#temporal.convert_cylical_to_universal">[docs]</a><span class="k">def</span> <span class="nf">convert_cylical_to_universal</span><span class="p">(</span><span class="n">day</span><span class="p">,</span> <span class="n">time_of_day</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function converts a cyclical time to the universal time.</span>

<span class="sd">    :param int day: the day of the year</span>
<span class="sd">    :param int time_of_day: the time of day [minutes]</span>

<span class="sd">    :return t: the time in universal time</span>
<span class="sd">    :rtype: int</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">t</span> <span class="o">=</span> <span class="n">day</span> <span class="o">*</span> <span class="n">DAY_2_MIN</span> <span class="o">+</span> <span class="n">time_of_day</span>
    
    <span class="k">return</span> <span class="n">t</span>
</div>
<div class="viewcode-block" id="convert_decimal_to_min"><a class="viewcode-back" href="../temporal.html#temporal.convert_decimal_to_min">[docs]</a><span class="k">def</span> <span class="nf">convert_decimal_to_min</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function takes in the time of day as a decimal and outputs the time in minutes</span>

<span class="sd">    :param float t: the time of day [0, 24) [hours]</span>

<span class="sd">    :return out: the time of day [minutes]</span>
<span class="sd">    :rtype: int</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># hours </span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
    
    <span class="c1"># the minutes past the hour</span>
    <span class="n">m</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span> <span class="p">(</span><span class="n">t</span> <span class="o">-</span> <span class="n">h</span><span class="p">)</span> <span class="o">*</span> <span class="n">HOUR_2_MIN</span> <span class="p">)</span>
    
    <span class="c1"># time of day in minutes</span>
    <span class="n">out</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span> <span class="p">(</span><span class="n">h</span> <span class="o">*</span> <span class="n">HOUR_2_MIN</span><span class="p">)</span> <span class="o">+</span> <span class="n">m</span> <span class="p">)</span>
    
    <span class="k">return</span> <span class="n">out</span>
</div>
<div class="viewcode-block" id="convert_universal_to_decimal"><a class="viewcode-back" href="../temporal.html#temporal.convert_universal_to_decimal">[docs]</a><span class="k">def</span> <span class="nf">convert_universal_to_decimal</span><span class="p">(</span><span class="n">t_univ</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This function takes in the universal time and converts it to the time of day in decimal format [0, 24)</span>

<span class="sd">    :param int t_univ: the universal time [minutes]</span>

<span class="sd">    :return out: the universal time [hours]</span>
<span class="sd">    :rtype: float</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># convert the universal time to a cyclical time</span>
    <span class="n">time_of_day</span> <span class="o">=</span> <span class="n">t_univ</span> <span class="o">%</span> <span class="n">DAY_2_MIN</span>
    
    <span class="c1"># convert the cyclical time to a decimal format</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">(</span><span class="n">time_of_day</span><span class="p">)</span> <span class="o">/</span> <span class="n">HOUR_2_MIN</span>
    
    <span class="k">return</span> <span class="n">out</span>
    </div>
<div class="viewcode-block" id="print_military_time"><a class="viewcode-back" href="../temporal.html#temporal.print_military_time">[docs]</a><span class="k">def</span> <span class="nf">print_military_time</span><span class="p">(</span><span class="n">t</span><span class="p">):</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Represents the time of day in military time  assume that time is in minutes format.</span>

<span class="sd">    :param int t: the time of day [minutes]</span>

<span class="sd">    :return msg: the time of day in military time 00:00</span>
<span class="sd">    :rtype: str</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># the number of hours, integer division</span>
    <span class="n">h</span> <span class="o">=</span> <span class="n">t</span>  <span class="o">//</span> <span class="n">HOUR_2_MIN</span>

    <span class="c1"># the number of minutes</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">t</span> <span class="o">%</span> <span class="n">HOUR_2_MIN</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%02d</span><span class="s1">:</span><span class="si">%02d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">msg</span>    </div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Namdi Brandon.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
    </div>

    

    
  </body>
</html>